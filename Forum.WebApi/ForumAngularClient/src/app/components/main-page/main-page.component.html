<div class="container">
  <div class="topics">

    <!-- For authorized only-->
    <div class="createPost" *ngIf="us.user.id !== 0" (click)="router.navigate(['create-topic'])">
      <span class="material-icons">article</span>
      <input placeholder="Create post">
    </div>

    <div class="filter">
      <div class="new" (click)="sortNew()">
        <span class="material-icons">new_releases</span>
        <p>New</p>
      </div>
      <div class="new" (click)="sortTop()">
        <span class="material-icons">star</span>
        <p>Top</p>
      </div>
    </div>
    <div class="topic" *ngFor="let t of topics">
      <div class="rating">
        <a (click)="increase(t)"><span class="material-icons">keyboard_arrow_up</span></a>
        <p>{{t.rating}}</p>
        <a (click)="decrease(t)"><span class="material-icons">keyboard_arrow_down</span></a>
      </div>
      <div class="content">
        <div class="header">
          <div class="postInfo">
            <a [routerLink]="['community', t.communityId ]">{{t.communityName}}</a>
            <p>Posted by <a [routerLink]="['user', t.authorId ]">{{t.authorName}}</a> {{t.postingDate}}</p>
          </div>
          <div class="join" *ngIf="showJoin(t.communityId)">
            <a (click)="join(t.communityId)">Join</a>
          </div>
        </div>
        <div class="title">
          <a [routerLink]="['topic', t.id]">{{t.title}}</a>
        </div>
        <div class="comments">
          <div class="comment">
            <span class="material-icons">question_answer</span>
            <a [routerLink]="['topic', t.id]">{{t.commentsCount}} Comments</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="communities">
    <div class="header">
      <p>Top Communities</p>
      <hr>
    </div>
    <div class="community" *ngFor="let c of communities; let i = index">
        <div class="title">
          <p>{{i + 1}}</p>
          <a [routerLink]="['community', c.id]">{{c.title}}</a>
        </div>
        <div class="join" *ngIf="showJoin(c.id)">
        <a (click)="join(c.id)">Join</a>
      </div>
    </div>
    <div class="viewAll">
      <a routerLink="communities">View All</a>
    </div>
  </div>
</div>
